var INSERTHTMLFILE_ALLOWED_EXTENSIONS=["txt","htm","html"];
CKEDITOR.dialog.add("inserthtmlfile",function(c){var d=c.lang.inserthtmlfile;return{title:d.dialogTitle,minWidth:400,minHeight:50,contents:[{id:"info",label:"HTML",elements:[{type:"hbox",widths:["","100px"],children:[{type:"text",id:"file",label:d.selectfile,onChange:function(){this.getDialog();this.getValue()}},{type:"button",id:"browse",hidden:"true",style:"display:inline-block;margin-top:0px;",filebrowser:{action:"Browse",target:"info:file",url:c.config.filebrowserImageBrowseUrl||c.config.filebrowserBrowseUrl},
label:c.lang.common.browseServer}]}]}],onOk:function(){var a=this.getValueOf("info","file"),e="",g=a.split(".").pop(),b=new XMLHttpRequest;if(-1==INSERTHTMLFILE_ALLOWED_EXTENSIONS.indexOf(g)){var a="",f;for(f in INSERTHTMLFILE_ALLOWED_EXTENSIONS)""!=a&&(a+=", "),a+=INSERTHTMLFILE_ALLOWED_EXTENSIONS[f];alert(d.extensionError+" ("+a+")")}else b.open("GET",a,!1),b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(e=b.responseText)},b.send(null),0<e.length&&c.insertHtml(e)}}});