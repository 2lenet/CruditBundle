services:
    _defaults:
        autowire: true
        public: false
        autoconfigure: true

    Lle\CruditBundle\Controller\:
        resource: '../../Controller'
        tags: [ 'controller.service_arguments' ]

    Lle\CruditBundle\Registry\FieldRegistry:
        arguments :
            - !tagged_iterator crudit.field

    Lle\CruditBundle\Brick\BrickResponseCollector: ~

    Lle\CruditBundle\Filter\FilterState:
        arguments:
            - !tagged_iterator crudit.filterset
            - '@session'

    Lle\CruditBundle\Resolver\FieldResolver:
        arguments: ['@Lle\CruditBundle\Registry\FieldRegistry',  '@property_accessor']

    Lle\CruditBundle\Resolver\ResourceResolver:
        arguments: ['@Lle\CruditBundle\Resolver\FieldResolver']

    Lle\CruditBundle\Provider\LayoutProvider:
        arguments:
            - !tagged_iterator crudit.layout
            - '@parameter_bag'

    Lle\CruditBundle\Maker\MakeCrudit:
        arguments: ["@maker.file_manager","@maker.doctrine_helper"]
        tags: [maker.command]

    Lle\CruditBundle\Provider\ConfigProvider:
        arguments:
            - !tagged_iterator crudit.config

    Lle\CruditBundle\Provider\BrickProvider:
        arguments:
            - !tagged_iterator crudit.brick

    Lle\CruditBundle\Builder\BrickBuilder:
        arguments: ['@Lle\CruditBundle\Provider\BrickProvider', '@Lle\CruditBundle\Provider\ConfigProvider']

    Lle\CruditBundle\Registry\MenuRegistry:
        arguments:
            - !tagged_iterator crudit.menu

    Lle\CruditBundle\Registry\DatasourceRegistry:
        arguments:
            - !tagged_iterator crudit.datasource

    Lle\CruditBundle\Layout\AdminLteLayout:
        arguments:
            - '@Lle\CruditBundle\Registry\MenuRegistry'
        tags: ['crudit.layout']

    Lle\CruditBundle\Layout\SbAdminLayout:
        arguments:
            - '@Lle\CruditBundle\Registry\MenuRegistry'
        tags: ['crudit.layout']
