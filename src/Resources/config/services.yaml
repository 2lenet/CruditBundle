services:
    _defaults:
        autowire: true
        public: false
        autoconfigure: true

    Lle\CruditBundle\Controller\:
        resource: '../../Controller'
        tags: [ 'controller.service_arguments' ]

    Lle\CruditBundle\Controller\CrudController:
        arguments: ['@Lle\CruditBundle\Provider\ConfigProvider', '@Lle\CruditBundle\Builder\BrickBuilder', '@serializer']
        tags: [ 'controller.service_arguments' ]

    Lle\CruditBundle\Resolver\FieldResolver:
        arguments: ['@doctrine.orm.default_entity_manager',  '@property_accessor']

    Lle\CruditBundle\Resolver\RessourceResolver:
        arguments: ['@doctrine.orm.default_entity_manager', '@Lle\CruditBundle\Resolver\FieldResolver', '@property_accessor']

    Lle\CruditBundle\Provider\LayoutProvider:
        arguments:
            - !tagged_iterator crudit.layout
            - '@parameter_bag'

    Lle\CruditBundle\Maker\MakeCrudit:
        arguments: ["@maker.file_manager","@maker.doctrine_helper"]
        tags: [maker.command]

    Lle\CruditBundle\Provider\ConfigProvider:
        arguments:
            - !tagged_iterator crudit.config

    Lle\CruditBundle\Provider\BrickProvider:
        arguments:
            - !tagged_iterator crudit.brick

    Lle\CruditBundle\Builder\BrickBuilder:
        arguments: ['@Lle\CruditBundle\Provider\BrickProvider', '@Lle\CruditBundle\Provider\ConfigProvider']

    Lle\CruditBundle\Registry\MenuRegistry:
        arguments:
            - !tagged_iterator crudit.menu

    Lle\CruditBundle\Layout\AdminLteLayout:
        arguments:
            - '@Lle\CruditBundle\Registry\MenuRegistry'
        tags: ['crudit.layout']

    Lle\CruditBundle\Layout\SbAdminLayout:
        arguments:
            - '@Lle\CruditBundle\Registry\MenuRegistry'
        tags: ['crudit.layout']
